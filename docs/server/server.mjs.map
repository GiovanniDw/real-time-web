{"version":3,"file":"server.mjs","sources":["../../server/server.js"],"sourcesContent":["const express = require('express');\nconst ViteExpress = require('vite-express');\nconst http = require(\"http\");\nconst { Server } = require('socket.io');\n\nconst PORT = process.env.PORT || 3000;\n\nconst app = express();\nconst server = http.createServer(app).listen(PORT, () => { \n  console.log(`Server is listeningon ${PORT}!`)\n});\n\nconst io = new Server(server);\n\napp.use(express.static('public'));\n\napp.get('/hello', (req, res) => {\n  res.send('Hello Vite!');\n});\n\nio.on(\"connection\", (socket) => {\n  console.log(socket.id);\n\n  socket.on(\"send-message\", (msg) => {\n    console.log(msg);\n    socket.broadcast.emit(\"receive-message\", msg);\n  });\n\n  socket.on(\"disconnect\", () => {\n    console.log(\"user disconnected\");\n  });\n});\n\nViteExpress.bind(app, server);"],"names":[],"mappings":"AAAA,MAAM,UAAU,QAAQ,SAAS;AACjC,MAAM,cAAc,QAAQ,cAAc;AAC1C,MAAM,OAAO,QAAQ,MAAM;AAC3B,MAAM,EAAE,OAAQ,IAAG,QAAQ,WAAW;AAEtC,MAAM,OAAO,QAAQ,IAAI,QAAQ;AAEjC,MAAM,MAAM,QAAO;AACnB,MAAM,SAAS,KAAK,aAAa,GAAG,EAAE,OAAO,MAAM,MAAM;AACvD,UAAQ,IAAI,yBAAyB,OAAO;AAC9C,CAAC;AAED,MAAM,KAAK,IAAI,OAAO,MAAM;AAE5B,IAAI,IAAI,QAAQ,OAAO,QAAQ,CAAC;AAEhC,IAAI,IAAI,UAAU,CAAC,KAAK,QAAQ;AAC9B,MAAI,KAAK,aAAa;AACxB,CAAC;AAED,GAAG,GAAG,cAAc,CAAC,WAAW;AAC9B,UAAQ,IAAI,OAAO,EAAE;AAErB,SAAO,GAAG,gBAAgB,CAAC,QAAQ;AACjC,YAAQ,IAAI,GAAG;AACf,WAAO,UAAU,KAAK,mBAAmB,GAAG;AAAA,EAChD,CAAG;AAED,SAAO,GAAG,cAAc,MAAM;AAC5B,YAAQ,IAAI,mBAAmB;AAAA,EACnC,CAAG;AACH,CAAC;AAED,YAAY,KAAK,KAAK,MAAM;"}